package com.tigres810.adventurermod.externaltools;

import javax.annotation.Nonnull;

import com.tigres810.adventurermod.energy.CustomEnergyStorage;

import net.minecraft.nbt.NBTTagCompound;
import net.minecraftforge.common.capabilities.ICapabilitySerializable;

public interface IEnergyUser extends ICapabilitySerializable<NBTTagCompound> {

	String ENERGY_TAG = "energy";

	@Nonnull
	CustomEnergyStorage getEnergy();

	@Override
	default NBTTagCompound serializeNBT() {
		final NBTTagCompound compound = new NBTTagCompound();
		compound.setInteger(ENERGY_TAG, getEnergy().getEnergyStored());
		return compound;
	}

	@Override
	default void deserializeNBT(final NBTTagCompound compound) {
		if (compound.hasKey(ENERGY_TAG)) {
			this.getEnergy().setEnergyStored(compound.getInteger(ENERGY_TAG), false);
		}
	}

}